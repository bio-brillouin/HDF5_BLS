

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modules &mdash; HDF5_BLS_Documentation 0.0.5 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=282f96c0"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="example.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            HDF5_BLS_Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#wraper">Wraper</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#wraper.Wraper"><code class="docutils literal notranslate"><span class="pre">Wraper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wraper.Wraper.add_hdf5_to_wraper"><code class="docutils literal notranslate"><span class="pre">Wraper.add_hdf5_to_wraper()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#wraper.Wraper.assign_name_all_abscissa"><code class="docutils literal notranslate"><span class="pre">Wraper.assign_name_all_abscissa()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#wraper.Wraper.assign_name_one_abscissa"><code class="docutils literal notranslate"><span class="pre">Wraper.assign_name_one_abscissa()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#wraper.Wraper.create_abscissa_1D_min_max"><code class="docutils literal notranslate"><span class="pre">Wraper.create_abscissa_1D_min_max()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#wraper.Wraper.import_abscissa_1D"><code class="docutils literal notranslate"><span class="pre">Wraper.import_abscissa_1D()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#wraper.Wraper.import_properties_data"><code class="docutils literal notranslate"><span class="pre">Wraper.import_properties_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#wraper.Wraper.open_data"><code class="docutils literal notranslate"><span class="pre">Wraper.open_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#wraper.Wraper.save_as_hdf5"><code class="docutils literal notranslate"><span class="pre">Wraper.save_as_hdf5()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-load_data">Load_data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#load_data.load_dat_file"><code class="docutils literal notranslate"><span class="pre">load_dat_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#load_data.load_general"><code class="docutils literal notranslate"><span class="pre">load_general()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#load_data.load_tiff_file"><code class="docutils literal notranslate"><span class="pre">load_tiff_file()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#treat">Treat</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#treat.Treat"><code class="docutils literal notranslate"><span class="pre">Treat</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#treat.Treat.fit_model"><code class="docutils literal notranslate"><span class="pre">Treat.fit_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treat.Treat.normalize_data"><code class="docutils literal notranslate"><span class="pre">Treat.normalize_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treat.Treat.remove_offset"><code class="docutils literal notranslate"><span class="pre">Treat.remove_offset()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treat.Treat.resample"><code class="docutils literal notranslate"><span class="pre">Treat.resample()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#treat.Treat.wndw_data_from_freq"><code class="docutils literal notranslate"><span class="pre">Treat.wndw_data_from_freq()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Examples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">HDF5_BLS_Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Modules</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/modules.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="modules">
<h1>Modules<a class="headerlink" href="#modules" title="Link to this heading"></a></h1>
<section id="wraper">
<h2>Wraper<a class="headerlink" href="#wraper" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="wraper.Wraper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Wraper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wraper.Wraper" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This object is used to store data and attributes in a unified structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attributes</strong> (<em>dic</em>) – The attributes of the data</p></li>
<li><p><strong>data</strong> (<em>dic</em>) – The data arrays (raw data, treated data, abscissa, other measures)</p></li>
<li><p><strong>data_attributes</strong> (<em>dic</em>) – The attributes specific to an array</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="wraper.Wraper.add_hdf5_to_wraper">
<span class="sig-name descname"><span class="pre">add_hdf5_to_wraper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Data'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wraper.Wraper.add_hdf5_to_wraper" title="Link to this definition"></a></dt>
<dd><p>Adds an hdf5 file to the wrapper by specifying in which group the data have to be stored. Default is the “Data” group. When adding the data, the attributes of the HDF5 file are only added to the created group if they are different from the parent’s attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>str</em>) – The filepath of the hdf5 file to add.</p></li>
<li><p><strong>parent_group</strong> (<em>str</em><em>, </em><em>optional</em>) – The parent group where to store the data of the HDF5 file, by default the parent group is the top group “Data”. The format of this group should be “Data.Data_0.Data_0_0”</p></li>
<li><p><strong>create_group</strong> (<em>bool</em><em>, </em><em>default True</em>) – This parameter should be set to False if different techniques were used to acquire different datasets. This is particularly usefull if fluorescent images are taken after or during the same experiment. Note that only data of same shape, and sharing the same abscissa can be used in a given group.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wraper.Wraper.assign_name_all_abscissa">
<span class="sig-name descname"><span class="pre">assign_name_all_abscissa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abscissa</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wraper.Wraper.assign_name_all_abscissa" title="Link to this definition"></a></dt>
<dd><p>Adds as attributes of the abscissas and the raw data, the names of the abscissas</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>abscissa</strong> (<em>str</em>) – The names of the abscissas</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>WraperError</strong> – If the length of the abscissa is different from the dimensionality of the data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wraper.Wraper.assign_name_one_abscissa">
<span class="sig-name descname"><span class="pre">assign_name_one_abscissa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abscissa_nb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wraper.Wraper.assign_name_one_abscissa" title="Link to this definition"></a></dt>
<dd><p>Adds as attributes of the abscissas and the raw data, the names of the abscissas</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>abscissa_nb</strong> (<em>str</em>) – The number of the abscissa to rename (“i” or “i-j”)</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The new name of the abscissa to rename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wraper.Wraper.create_abscissa_1D_min_max">
<span class="sig-name descname"><span class="pre">create_abscissa_1D_min_max</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimension</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wraper.Wraper.create_abscissa_1D_min_max" title="Link to this definition"></a></dt>
<dd><p>Creates an abscissa from a minimal and maximal value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dimension</strong> (<em>int</em>) – The dimension of the data that we are changing (first dimension is 0)</p></li>
<li><p><strong>min</strong> (<em>float</em>) – The minimal value of the abscissa range (included)</p></li>
<li><p><strong>max</strong> (<em>float</em>) – The maximal value of the abscissa range (included)</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the abscissa axis, by default None</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>WraperError</strong> – If the dimension given is higher than the dimension of the data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wraper.Wraper.import_abscissa_1D">
<span class="sig-name descname"><span class="pre">import_abscissa_1D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimension</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wraper.Wraper.import_abscissa_1D" title="Link to this definition"></a></dt>
<dd><p>Creates an abscissa from a minimal and maximal value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dimension</strong> (<em>int</em>) – The dimension of the data that we are changing (first dimension is 0)</p></li>
<li><p><strong>filepath</strong> (<em>str</em>) – The filepath containing the values of the abscissa</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the abscissa axis, by default None</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>WraperError</strong> – If the dimension given is higher than the dimension of the data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wraper.Wraper.import_properties_data">
<span class="sig-name descname"><span class="pre">import_properties_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wraper.Wraper.import_properties_data" title="Link to this definition"></a></dt>
<dd><p>Imports properties from a CSV file into a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath_csv</strong> (<em>str</em>) – The filepath to the csv storing the properties of the measure. This csv is meant to be made once to store all the properties of the spectrometer and then minimally adjusted to the sample being measured.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self.attributes</strong> – The dictionnary containing all the attributes</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dic</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wraper.Wraper.open_data">
<span class="sig-name descname"><span class="pre">open_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store_filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wraper.Wraper.open_data" title="Link to this definition"></a></dt>
<dd><p>Opens a raw data file based on its file extension and stores the filepath.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>str</em>) – The filepath to the raw data file</p></li>
<li><p><strong>store_filepath</strong> (<em>bool</em><em>, </em><em>default True</em>) – A boolean parameter to store the original filepath of the raw data in the attributes of “Raw_data”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="wraper.Wraper.save_as_hdf5">
<span class="sig-name descname"><span class="pre">save_as_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#wraper.Wraper.save_as_hdf5" title="Link to this definition"></a></dt>
<dd><p>Saves the data and attributes to an HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>save_filepath</strong> (<em>str</em>) – The filepath where to save the hdf5 file</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>WraperError</strong> – Raises an error if the file could not be saved</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-load_data">
<span id="load-data"></span><h2>Load_data<a class="headerlink" href="#module-load_data" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="load_data.load_dat_file">
<span class="sig-name descname"><span class="pre">load_dat_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#load_data.load_dat_file" title="Link to this definition"></a></dt>
<dd><p>Loads files obtained with the GHOST software</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em>) – The filepath to the GHOST file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>data</strong> (<em>np.array</em>) – The data stored in the file</p></li>
<li><p><strong>attributes</strong> (<em>dic</em>) – A dictionnary with all the properties that could be recovered from the file</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="load_data.load_general">
<span class="sig-name descname"><span class="pre">load_general</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#load_data.load_general" title="Link to this definition"></a></dt>
<dd><p>Loads files based on their extensions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em>) – The filepath to the file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>data</strong> (<em>np.array</em>) – The data stored in the file</p></li>
<li><p><strong>attributes</strong> (<em>dic</em>) – A dictionnary with all the properties that could be recovered from the file</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="load_data.load_tiff_file">
<span class="sig-name descname"><span class="pre">load_tiff_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#load_data.load_tiff_file" title="Link to this definition"></a></dt>
<dd><p>Loads files obtained with the GHOST software</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em>) – The filepath to the tif image</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>data</strong> (<em>np.array</em>) – The data stored in the file</p></li>
<li><p><strong>attributes</strong> (<em>dic</em>) – A dictionnary with all the properties that could be recovered from the file</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="treat">
<h2>Treat<a class="headerlink" href="#treat" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="treat.Treat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Treat</span></span><a class="headerlink" href="#treat.Treat" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class is meant to offer a standard way of treating the data. Please refer to the dedicated <a class="reference external" href="https://github.com/PierreBouvet/HDF5_BLS/blob/main/notebooks/Treat.ipynb">notebook</a>. to find explicit descriptions of the algorithms.</p>
<dl class="py method">
<dt class="sig sig-object py" id="treat.Treat.fit_model">
<span class="sig-name descname"><span class="pre">fit_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linewidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Lorentz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_S_and_AS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_peak_find</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_peak_fit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct_elastic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IR_wndw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq_IR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_IR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#treat.Treat.fit_model" title="Link to this definition"></a></dt>
<dd><p>Fitting function that performs a fit on the selected spectrum and returns the fitted values and the standard deviations on the fitted parameters. When 2 peaks are fitted, the standard deviation returned by the function corresponds to the standard deviation of two independent events, that is std_{avg} = sqrt{std_{S}^2 + std_{AS}^2}. This function also takes into account the impulse response of the spectrometer when applying the fit, which therefore returns a</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frequency</strong> (<em>numpy array</em>) – The freaquency axis corresponding to the data</p></li>
<li><p><strong>data</strong> (<em>numpy array</em>) – The data to fit</p></li>
<li><p><strong>center_frequency</strong> (<em>float</em>) – The estimate expected shift frequency</p></li>
<li><p><strong>linewidth</strong> (<em>float</em>) – The expected linewidth</p></li>
<li><p><strong>normalize</strong> (<em>bool</em><em>, </em><em>optional</em>) – Wether a normalization is to be made on the data before treatment or not , by default True</p></li>
<li><p><strong>model</strong> (<em>str</em><em>, </em><em>optional</em>) – The model with which to fit the data. Accepted models are “Lorentz” and “DHO”, by default “Lorentz”</p></li>
<li><p><strong>fit_S_and_AS</strong> (<em>bool</em><em>, </em><em>optional</em>) – Wether to fit both the Stokes and Anti-Stokes peak during the fit (and return corresponding averaged values and propagated errors), by default True</p></li>
<li><p><strong>window_peak_find</strong> (<em>float</em><em>, </em><em>optional</em>) – The width in GHz where to find the peak, by default 1GHz</p></li>
<li><p><strong>window_peak_fit</strong> (<em>float</em><em>, </em><em>optional</em>) – The width in GHz of the windo used to fit the peak, by default 3 GHz</p></li>
<li><p><strong>correct_elastic</strong> (<em>bool</em><em>, </em><em>optional</em>) – Wether to correct for the presence of an elastic peak by setting adding a linear function to the model, by default False</p></li>
<li><p><strong>wndw_IR</strong> (<em>2-tuple</em><em>, </em><em>optional</em>) – If the impulse response can be recovered from the spectrum, the corresponding window on the frequency axis where to recover the response</p></li>
<li><p><strong>freq_IR</strong> (<em>numpy array</em><em>, </em><em>optional</em>) – The frequency of the impulse response</p></li>
<li><p><strong>data_IR</strong> (<em>numpy array</em><em>, </em><em>optional</em>) – The data of the impulse response</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>optimal_parameters</strong> (<em>tuple</em>) – The returned optimal parameters for the fit (offset, amplitude, center_frequency, linewidth) averaged if both the Stokes and anti-Stokes peaks are used</p></li>
<li><p><strong>variance</strong> (<em>tuple</em>) – The returned variance on the fitted parameters (offset, amplitude, center_frequency, linewidth)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treat.Treat.normalize_data">
<span class="sig-name descname"><span class="pre">normalize_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#treat.Treat.normalize_data" title="Link to this definition"></a></dt>
<dd><p>Normalizes a data array to an amplitude of 1 after removing the offset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>numpy array</em>) – The data that we want to normalize</p></li>
<li><p><strong>window</strong> (<em>int</em><em>, </em><em>optional</em>) – The window width around the position of the peak to refine its position and use its amplitude to normalize the signal. Default is 10</p></li>
<li><p><strong>peak_pos</strong> (<em>int</em><em>, </em><em>optional</em>) – The position of the peak in the data array. Defaults to the maximal value of the spectrum</p></li>
<li><p><strong>remove_offset</strong> (<em>bool</em><em>, </em><em>optional</em>) – Wether to remove the offset of the data or not before normalizing. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data_treat</strong> – The data where the offset has been removed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treat.Treat.remove_offset">
<span class="sig-name descname"><span class="pre">remove_offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#treat.Treat.remove_offset" title="Link to this definition"></a></dt>
<dd><p>Automatically identifies the offset of the signal and removes it by identifying the regions of points that are closer to zero and removing their average.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>numpy array</em>) – The data that is going to be treated</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data_treat</strong> – The data where the offset has been removed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treat.Treat.resample">
<span class="sig-name descname"><span class="pre">resample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#treat.Treat.resample" title="Link to this definition"></a></dt>
<dd><p>Resamples the frequency and data arrays by creating a new frequency array where samples are equidistant</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frequency</strong> (<em>numpy array</em>) – The frequency array used for resampling with samples of same widths</p></li>
<li><p><strong>data</strong> (<em>numpy array</em>) – The data array that will be resampled following the resampling of the frequency axis. The resampling on the data is done by locally fitting a quadratic polynomial.</p></li>
<li><p><strong>new_frequency</strong> (<em>numpy array</em><em>, </em><em>optional</em>) – A new frequency array to resample the data on.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>new_frequency</strong> (<em>numpy array</em>) – The resampled frequency array</p></li>
<li><p><strong>new_data</strong> (<em>numpy array</em>) – The resampled data array</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="treat.Treat.wndw_data_from_freq">
<span class="sig-name descname"><span class="pre">wndw_data_from_freq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#treat.Treat.wndw_data_from_freq" title="Link to this definition"></a></dt>
<dd><p>Returns a window of the data and the frequency arrays corresponding to a given region of the frequency array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>numpy array</em>) – The raw data array</p></li>
<li><p><strong>freq</strong> (<em>numpy array</em>) – The frequency array</p></li>
<li><p><strong>fmin</strong> (<em>float</em>) – The left side of the window. Note that if the window is symetric, fmax is not needed and -fmin will be taken as the right side of the window</p></li>
<li><p><strong>fmax</strong> (<em>_type_</em><em>, </em><em>optional</em>) – The right side of the window. Optional when the window is symetric, hence fmax = -fmin, by default None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>numpy array</em> – The windowed frequency</p></li>
<li><p><em>numpy array</em> – The windowed data</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="example.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Pierre Bouvet.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>